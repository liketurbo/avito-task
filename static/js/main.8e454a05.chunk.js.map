{"version":3,"sources":["components/Grid/index.module.scss","components/Header/index.module.scss","components/Loading/index.module.scss","components/Card/index.module.scss","components/App/index.tsx","components/Router/context.ts","components/Card/index.tsx","components/Grid/index.tsx","components/Header/index.tsx","components/Loading/index.tsx","pages/main.tsx","index.tsx","components/Router/index.tsx"],"names":["module","exports","grid","header","loading","card","img","title","price","seller","star","camera","heart","heart_active","App","_ref","children","react_default","a","createElement","Fragment","RouterContext","createContext","Card","pictures","id","category","_useState","useState","JSON","parse","localStorage","getItem","_useState2","Object","slicedToArray","favorites","setFavorites","useEffect","setItem","stringify","className","s","src","alt","href","concat","toString","replace","name","react_rating_esm","readonly","initialRating","rating","emptySymbol","fullSymbol","length","role","aria-label","c","defineProperty","includes","onClick","stateFavorites","filter","v","toConsumableArray","Grid","Header","Loading","react_loading_default","type","color","reducer","state","action","produce","draft","payload","error","allData","products","map","product","sellerId","relationships","sellers","find","objectSpread","renderData","sorted","value","categorized","sort","b","ReactDOM","render","components_App","history","createBrowserHistory","basename","process","context","Provider","react_router","react_router_dom","exact","path","component","_useReducer","useReducer","_useReducer2","dispatch","requests","push","axios","then","res","data","Promise","all","_ref2","_ref3","_unused","components_Loading","components_Header","react_select_browser_esm","styles","container","base","flexBasis","paddingTop","paddingLeft","defaultValue","label","options","onChange","_ref4","asyncToGenerator","regenerator_default","mark","_callee","option","wrap","_context","prev","next","stop","_x","apply","this","arguments","_ref5","_callee2","_context2","_x2","components_Grid","components_Card","assign","key","document","getElementById"],"mappings":"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","file":"static/js/main.8e454a05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__2245Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__MbTxY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__38WPi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3rpIc\",\"img\":\"Card_img__3jbA_\",\"title\":\"Card_title__1cpd-\",\"price\":\"Card_price__1DVSA\",\"seller\":\"Card_seller__3H-tn\",\"star\":\"Card_star__3rt6h\",\"camera\":\"Card_camera__2K8Zz\",\"heart\":\"Card_heart__3gQ3v\",\"heart_active\":\"Card_heart_active__JJJK0\"};","import './index.module.scss';\n\nimport React, { FC } from 'react';\n\nconst App: FC = ({ children }) => <>{children}</>;\n\nexport default App;\n","import { History } from 'history';\r\nimport { createContext } from 'react';\r\n\r\nconst RouterContext = createContext<History>(null as any);\r\n\r\nexport default RouterContext;\r\n","import c from 'classnames';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Rating from 'react-rating';\r\n\r\nimport { ISeller } from '../Seller';\r\nimport s from './index.module.scss';\r\n\r\nexport interface ICard {\r\n  address: {\r\n    lat: number;\r\n    lng: number;\r\n  };\r\n  body_type: string;\r\n  category: string;\r\n  gearbox: string;\r\n  id: string;\r\n  pictures: string[];\r\n  price?: number;\r\n  relationships: {\r\n    seller: string;\r\n  };\r\n  title: string;\r\n  year: number;\r\n  seller: ISeller;\r\n}\r\n\r\nconst Card = ({ title, price, pictures, id, seller, category }: ICard) => {\r\n  const [favorites, setFavorites] = useState(JSON.parse(\r\n    localStorage.getItem('favorites') || '[]'\r\n  ) as string[]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('favorites', JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  return (\r\n    <article className={s.card}>\r\n      <img className={s.img} src={pictures[0]} alt={category} />\r\n      <a className={s.title} href={`https://avito.dump.academy/products/${id}`}>\r\n        <h1>{title}</h1>\r\n      </a>\r\n      <span className={s.price}>\r\n        {price\r\n          ? `${price\r\n              .toString()\r\n              .replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ')} ₽`\r\n          : 'Цена не указана'}\r\n      </span>\r\n      <a\r\n        className={s.seller}\r\n        href={`https://avito.dump.academy/sellers/${seller.id}`}\r\n      >\r\n        <span>{seller.name}</span>\r\n      </a>\r\n      <Rating\r\n        readonly\r\n        initialRating={seller.rating}\r\n        emptySymbol={<span className={s.star}>☆</span>}\r\n        fullSymbol={<span className={s.star}>★</span>}\r\n      />\r\n      {pictures.length > 1 && (\r\n        <span className={s.camera} role=\"img\" aria-label=\"camera\">\r\n          📷 {pictures.length - 1}\r\n        </span>\r\n      )}\r\n      <button\r\n        className={c(s.heart, {\r\n          [s.heart_active]: favorites.includes(id)\r\n        })}\r\n        onClick={() => {\r\n          const stateFavorites = JSON.parse(\r\n            localStorage.getItem('favorites') || '[]'\r\n          ) as string[];\r\n\r\n          if (favorites.includes(id)) {\r\n            setFavorites(stateFavorites.filter(v => v !== id));\r\n          } else {\r\n            setFavorites([...stateFavorites, id]);\r\n          }\r\n        }}\r\n      >\r\n        ❤\r\n      </button>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { FC } from 'react';\r\n\r\nimport s from './index.module.scss';\r\n\r\nconst Grid: FC = ({ children }) => <div className={s.grid}>{children}</div>;\r\n\r\nexport default Grid;\r\n","import React, { FC } from 'react';\r\n\r\nimport s from './index.module.scss';\r\n\r\nconst Header: FC = ({ children }) => (\r\n  <header className={s.header}>{children}</header>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport s from './index.module.scss';\r\n\r\nconst Loading = () => (\r\n  <ReactLoading className={s.loading} type=\"spin\" color=\"#0091d9\" />\r\n);\r\n\r\nexport default Loading;\r\n","import axios from 'axios';\r\nimport produce from 'immer';\r\nimport React, { Reducer, useEffect, useReducer } from 'react';\r\nimport Select from 'react-select';\r\n\r\nimport Card, { ICard } from '../components/Card';\r\nimport Grid from '../components/Grid';\r\nimport Header from '../components/Header';\r\nimport Loading from '../components/Loading';\r\n\r\nconst reducer: Reducer<any, any> = (state, action) => {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      // Set loading status\r\n      return produce(state, (draft: any) => {\r\n        draft.loading = action.payload;\r\n      });\r\n    case 'SET_ERROR':\r\n      // Set error status\r\n      return produce(state, (draft: any) => {\r\n        draft.error = action.payload;\r\n      });\r\n    case 'SET_ALL_DATA':\r\n      // Only once, stores all data\r\n      return produce(state, (draft: any) => {\r\n        draft.allData = action.payload.products.map((product: any) => {\r\n          const sellerId = product.relationships.seller;\r\n          const seller = action.payload.sellers.find(\r\n            ({ id }: any) => id === sellerId\r\n          );\r\n\r\n          return { ...product, seller };\r\n        });\r\n\r\n        draft.renderData = draft.allData;\r\n      });\r\n    case 'SET_RENDER_DATA_BY_SORT':\r\n      return produce(state, (draft: any) => {\r\n        /**\r\n         * 1. Save in the state currently selected sort option\r\n         * 2. Sort data already sorted by category\r\n         */\r\n        draft.sorted = action.payload[0];\r\n\r\n        switch (action.payload[0]) {\r\n          case 'default':\r\n            draft.renderData = draft.allData.filter(\r\n              (value: ICard) =>\r\n                value.category === draft.categorized ||\r\n                draft.categorized === 'all' // hack if category set to 'all'\r\n            );\r\n            break;\r\n          case 'favorite':\r\n            draft.renderData = state.renderData.filter((value: ICard) =>\r\n              action.payload[1].includes(value.id)\r\n            );\r\n            break;\r\n          case 'cheap':\r\n            draft.renderData = draft.renderData.sort(\r\n              (a: any, b: any) => a.price - b.price\r\n            );\r\n            break;\r\n          case 'expensive':\r\n            draft.renderData = draft.renderData.sort(\r\n              (a: any, b: any) => b.price - a.price\r\n            );\r\n            break;\r\n        }\r\n      });\r\n    case 'SET_RENDER_DATA_BY_CATEGORY':\r\n      return produce(state, (draft: any) => {\r\n        /**\r\n         * 1. Save in the state currently selected sort option\r\n         * 2. Sort data by category\r\n         */\r\n        draft.categorized = action.payload[0];\r\n\r\n        switch (action.payload[0]) {\r\n          case 'all':\r\n            draft.renderData = draft.allData;\r\n            break;\r\n          case 'immovable':\r\n            draft.renderData = draft.allData.filter(\r\n              (value: ICard) => value.category === 'immovable'\r\n            );\r\n            break;\r\n          case 'cameras':\r\n            draft.renderData = draft.allData.filter(\r\n              (value: ICard) => value.category === 'cameras'\r\n            );\r\n            break;\r\n          case 'auto':\r\n            draft.renderData = draft.allData.filter(\r\n              (value: ICard) => value.category === 'auto'\r\n            );\r\n            break;\r\n          case 'laptops':\r\n            draft.renderData = draft.allData.filter(\r\n              (value: ICard) => value.category === 'laptops'\r\n            );\r\n            break;\r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default () => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    loading: true,\r\n    error: false,\r\n    sorted: 'default',\r\n    categorized: 'all',\r\n    allData: [],\r\n    renderData: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const requests = [];\r\n\r\n      requests.push(\r\n        axios('https://avito.dump.academy/products').then(res => res.data.data)\r\n      );\r\n      requests.push(\r\n        axios('https://avito.dump.academy/sellers').then(res => res.data.data)\r\n      );\r\n\r\n      Promise.all(requests).then(([products, sellers]) => {\r\n        dispatch({ type: 'SET_ALL_DATA', payload: { products, sellers } });\r\n        dispatch({ type: 'SET_LOADING', payload: false });\r\n      });\r\n    } catch {\r\n      dispatch({ type: 'SET_ERROR', payload: true });\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\r\n\r\n  return state.loading ? (\r\n    <Loading />\r\n  ) : (\r\n    <>\r\n      <Header>\r\n        <Select\r\n          styles={{\r\n            container: base => ({\r\n              ...base,\r\n              flexBasis: 200,\r\n              paddingTop: '1em',\r\n              paddingLeft: '1em'\r\n            })\r\n          }}\r\n          defaultValue={{ value: 'default', label: 'По умолчанию' }}\r\n          options={[\r\n            { value: 'default', label: 'По умолчанию' },\r\n            { value: 'favorite', label: 'Избранные' },\r\n            { value: 'cheap', label: 'Дешевле' },\r\n            { value: 'expensive', label: 'Дороже' }\r\n          ]}\r\n          onChange={async (option: any) => {\r\n            await dispatch({\r\n              type: 'SET_RENDER_DATA_BY_CATEGORY',\r\n              payload: [state.categorized]\r\n            });\r\n            await dispatch({\r\n              type: 'SET_RENDER_DATA_BY_SORT',\r\n              payload: [\r\n                option.value,\r\n                JSON.parse(localStorage.getItem('favorites') || '[]')\r\n              ]\r\n            });\r\n          }}\r\n        />\r\n        <Select\r\n          onChange={async (option: any) => {\r\n            await dispatch({\r\n              type: 'SET_RENDER_DATA_BY_CATEGORY',\r\n              payload: [option.value]\r\n            });\r\n            await dispatch({\r\n              type: 'SET_RENDER_DATA_BY_SORT',\r\n              payload: [\r\n                state.sorted,\r\n                JSON.parse(localStorage.getItem('favorites') || '[]')\r\n              ]\r\n            });\r\n          }}\r\n          styles={{\r\n            container: base => ({\r\n              ...base,\r\n              flexBasis: 200,\r\n              paddingTop: '1em',\r\n              paddingLeft: '1em'\r\n            })\r\n          }}\r\n          defaultValue={{ value: 'all', label: 'Все' }}\r\n          options={[\r\n            { value: 'all', label: 'Все' },\r\n            { value: 'immovable', label: 'Недвижимость' },\r\n            { value: 'cameras', label: 'Фотоаппараты' },\r\n            { value: 'auto', label: 'Автомобили' },\r\n            { value: 'laptops', label: 'Ноутбуки' }\r\n          ]}\r\n        />\r\n      </Header>\r\n      <Grid>\r\n        {state.renderData.map((product: any) => (\r\n          <Card key={product.id} {...product} />\r\n        ))}\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport { Route, Router } from './components/Router';\nimport main from './pages/main';\n\nReactDOM.render(\n  <App>\n    <Router>\n      <Route exact path=\"/\" component={main} />\n    </Router>\n  </App>,\n  document.getElementById('root')\n);\n","import { createBrowserHistory } from 'history';\r\nimport React, { FC, useContext, useEffect, useState } from 'react';\r\nimport { Route, Router as ReactRouterDOM } from 'react-router-dom';\r\n\r\nimport RouterContext from './context';\r\n\r\nconst Router: FC = ({ children }) => {\r\n  const history = createBrowserHistory({ basename: process.env.PUBLIC_URL });\r\n\r\n  return (\r\n    <RouterContext.Provider value={history}>\r\n      <ReactRouterDOM history={history}>{children}</ReactRouterDOM>\r\n    </RouterContext.Provider>\r\n  );\r\n};\r\n\r\nconst useRouter = () => {\r\n  const history = useContext(RouterContext);\r\n  const [location, setLocation] = useState(history.location);\r\n\r\n  useEffect(() => {\r\n    const unListen = history.listen(newLocation => {\r\n      setLocation(newLocation);\r\n    });\r\n\r\n    return () => unListen();\r\n  }, [history]);\r\n\r\n  return {\r\n    ...history,\r\n    location\r\n  };\r\n};\r\n\r\nexport { Route, useRouter, Router };\r\n"],"sourceRoot":""}